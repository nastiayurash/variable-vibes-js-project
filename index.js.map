{"version":3,"file":"index.js","sources":["../src/js/faq.js","../src/js/covers.js","../src/js/api.js","../src/js/reviews.js"],"sourcesContent":["import Accordion from 'accordion-js';\n\nnew Accordion('.faq-list', {\n  duration: 400,\n  showOne: true,\n  showMultiple: true,\n  onToggle: function (element) {\n    const parent = element.closest('.faq-item');\n    if (parent) {\n      parent.classList.toggle('is-active');\n      const panel = parent.querySelector('.ac-panel');\n      if (panel) {\n        if (parent.classList.contains('is-active')) {\n          panel.style.maxHeight = panel.scrollHeight + 'px';\n        } else {\n          panel.style.maxHeight = null;\n        }\n      }\n    }\n  },\n});\n","\nconst coverSection = document.querySelector(\".covers-section\");\n// Об'єкт налаштувань для Observer'а.\nconst options = {\n    root: null,\n    rootMargin: \"500px\",\n    threshold: 0.5,\n}\n\n// Колбек функція для Observer'а.\nconst observeFunc = (enteries) => {\n    // Observer створює масив входженнь таргета в зону спостереждення\n    enteries.forEach(entry => {\n        // Коли таргет входить в зону спостереження запускаємо анімацію\n      if (entry.isIntersecting) {\n          startAnimation();\n        //   Коли виходить анімацію зупиняємо\n      } else {\n            stopAnimation();\n      }\n    });\n}\n\n// Функція зупинки анімації\nfunction stopAnimation() {\n    const slideItem = document.querySelectorAll(\".covers-slide\");\n    slideItem.forEach((slide) => slide.classList.remove(\"animation\"))\n}\n// Функція запуску анімації\nfunction startAnimation() {\n    const slideItem = document.querySelectorAll(\".covers-slide\");\n    slideItem.forEach((slide) => slide.classList.add(\"animation\"));\n    \n}\n// Створення екземпляру Interseption Observer \nconst observer = new IntersectionObserver(observeFunc, options);\n// Передаємо секцію в якості таргета для спостереження \nobserver.observe(coverSection)","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst baseURL = \"https://portfolio-js.b.goit.study\";\n\nexport function apiGet() {\n    const end_point = \"/api/reviews\";\n    const url = `${baseURL}${end_point}`;\n\n    return axios.get(url)\n        .then(response => response.data)\n        .catch(handleError);\n}\n\nexport function apiPost(data) {\n    const end_point = \"/api/requests\";\n    const url = `${baseURL}${end_point}`;\n\n    return axios.post(url, data)\n        .then(response => response.data)\n        .catch(handleError);\n}\n\nfunction handleError(error) {\n    iziToast.error({\n        title: 'Error!',\n        message: 'Sorry, something went wrong. Please try again.',\n        position: 'topRight',\n    });\n    throw error;\n}","import Swiper from 'swiper';\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport 'swiper/css';\nimport { Navigation, Keyboard,Mousewheel } from 'swiper/modules';\nimport { apiGet } from './api';\n\nconst errorMessage = document.querySelector('.error-message');\nconst reviewsList = document.querySelector('.reviews-list');\nconst swiperContainer = document.querySelector('.swiper-container');\n\nfunction displayToast(message) {\n    iziToast.error({\n      title: 'Error',\n      message: message,\n      position: 'topRight',\n    });\n  }\n\n  function render(reviews) {\n    if (reviews.length === 0) {\n      reviewsIsNotFounded();\n    }\n    else {\n      const markup = reviews.map(review => \n        `<li class=\"reviews-item swiper-slide\">\n          <img src=\"${review.avatar_url}\" alt=\"\" width=\"48\" height=\"48\"  class=\"reviews-avatar\"/>\n          <div class=\"reviews-info\">\n            <h3 class=\"reviews-name\">${review.author}</h3>\n            <p class=\"reviews-text\">${review.review}</p>\n           </div>\n         </li>`)\n        .join('');\n        reviewsList.innerHTML = markup; \n        initializeSwiper();\n    }\n  }\n\n  function reviewsIsNotFounded() {\n    swiperContainer.style.display = 'none';\n    errorMessage.style.display = 'block';\n    displayToast(`Problem with the server connection, reviews can not be rendered`)\n  }\n  \n  function renderReviews() {\n    apiGet().then(data => {\n      if (data && data.length > 0) {\n        render(data);\n        \n      } else {\n        reviewsIsNotFounded();\n      }\n    }).catch(error => {\n       console.error(error);\n      reviewsIsNotFounded();\n    })\n  }\n\n  function initializeSwiper() {\n    const prevButton = document.querySelector('.prev-reviews-btn');\n    const nextButton = document.querySelector('.next-reviews-btn');\n    const swiperReviews = new Swiper('.swiper-container', {\n      modules: [Navigation, Keyboard, Mousewheel],\n      slidesPerView: 1,\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n        },\n        1440: {\n          slidesPerView: 4,\n        },\n      },\n      keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n      },\n      mousewheel: {\n        enabled: true,\n      },\n      speed: 800,\n      spaceBetween: 16,\n      allowTouchMove: true,\n      loop: false,\n      watchOverflow: true,\n      slideToClickedSlide: true,\n      navigation: {\n        nextEl: '.next-reviews-btn',\n        prevEl: '.prev-reviews-btn',\n      },\n    });\n}\n\n  document.addEventListener('DOMContentLoaded', renderReviews);"],"names":["Accordion","element","parent","panel","coverSection","options","observeFunc","enteries","entry","startAnimation","stopAnimation","slide","observer","baseURL","apiGet","url","axios","response","handleError","error","iziToast","errorMessage","reviewsList","swiperContainer","displayToast","message","render","reviews","reviewsIsNotFounded","markup","review","initializeSwiper","renderReviews","data","Swiper","Navigation","Keyboard","Mousewheel"],"mappings":"gyBAEA,IAAIA,EAAU,YAAa,CACzB,SAAU,IACV,QAAS,GACT,aAAc,GACd,SAAU,SAAUC,EAAS,CAC3B,MAAMC,EAASD,EAAQ,QAAQ,WAAW,EAC1C,GAAIC,EAAQ,CACVA,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMC,EAAQD,EAAO,cAAc,WAAW,EAC1CC,IACED,EAAO,UAAU,SAAS,WAAW,EACvCC,EAAM,MAAM,UAAYA,EAAM,aAAe,KAE7CA,EAAM,MAAM,UAAY,KAG7B,CACF,CACH,CAAC,ECnBD,MAAMC,EAAe,SAAS,cAAc,iBAAiB,EAEvDC,EAAU,CACZ,KAAM,KACN,WAAY,QACZ,UAAW,EACf,EAGMC,EAAeC,GAAa,CAE9BA,EAAS,QAAQC,GAAS,CAEpBA,EAAM,eACNC,IAGEC,GAEZ,CAAK,CACL,EAGA,SAASA,GAAgB,CACH,SAAS,iBAAiB,eAAe,EACjD,QAASC,GAAUA,EAAM,UAAU,OAAO,WAAW,CAAC,CACpE,CAEA,SAASF,GAAiB,CACJ,SAAS,iBAAiB,eAAe,EACjD,QAASE,GAAUA,EAAM,UAAU,IAAI,WAAW,CAAC,CAEjE,CAEA,MAAMC,EAAW,IAAI,qBAAqBN,EAAaD,CAAO,EAE9DO,EAAS,QAAQR,CAAY,ECjC7B,MAAMS,EAAU,oCAET,SAASC,GAAS,CAErB,MAAMC,EAAM,GAAGF,CAAO,eAEtB,OAAOG,EAAM,IAAID,CAAG,EACf,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,CAAW,CAC1B,CAWA,SAASA,EAAYC,EAAO,CACxB,MAAAC,EAAS,MAAM,CACX,MAAO,SACP,QAAS,iDACT,SAAU,UAClB,CAAK,EACKD,CACV,CCvBA,MAAME,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAkB,SAAS,cAAc,mBAAmB,EAElE,SAASC,EAAaC,EAAS,CAC3BL,EAAS,MAAM,CACb,MAAO,QACP,QAASK,EACT,SAAU,UAChB,CAAK,CACF,CAED,SAASC,EAAOC,EAAS,CACvB,GAAIA,EAAQ,SAAW,EACrBC,QAEG,CACH,MAAMC,EAASF,EAAQ,IAAIG,GACzB;AAAA,sBACcA,EAAO,UAAU;AAAA;AAAA,uCAEAA,EAAO,MAAM;AAAA,sCACdA,EAAO,MAAM;AAAA;AAAA,eAEpC,EACN,KAAK,EAAE,EACRR,EAAY,UAAYO,EACxBE,GACH,CACF,CAED,SAASH,GAAsB,CAC7BL,EAAgB,MAAM,QAAU,OAChCF,EAAa,MAAM,QAAU,QAC7BG,EAAa,iEAAiE,CAC/E,CAED,SAASQ,GAAgB,CACvBlB,EAAQ,EAAC,KAAKmB,GAAQ,CAChBA,GAAQA,EAAK,OAAS,EACxBP,EAAOO,CAAI,EAGXL,GAER,CAAK,EAAE,MAAMT,GAAS,CACf,QAAQ,MAAMA,CAAK,EACpBS,GACN,CAAK,CACF,CAED,SAASG,GAAmB,CACP,SAAS,cAAc,mBAAmB,EAC1C,SAAS,cAAc,mBAAmB,EACvC,IAAIG,EAAO,oBAAqB,CACpD,QAAS,CAACC,EAAYC,EAAUC,CAAU,EAC1C,cAAe,EACf,YAAa,CACX,IAAK,CACH,cAAe,CAChB,EACD,KAAM,CACJ,cAAe,CAChB,CACF,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,WAAY,CACV,QAAS,EACV,EACD,MAAO,IACP,aAAc,GACd,eAAgB,GAChB,KAAM,GACN,cAAe,GACf,oBAAqB,GACrB,WAAY,CACV,OAAQ,oBACR,OAAQ,mBACT,CACP,CAAK,CACL,CAEE,SAAS,iBAAiB,mBAAoBL,CAAa"}