import{S as y,N as v,K as w,M as g,A as I,a as x,i as h}from"./assets/vendor-FC1IEnE2.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();function C(){new y(".swiper",{modules:[v,w,g],keyboard:{enabled:!0},mousewheel:{enabled:!0},loop:!1,slidesPerView:1,speed:1e3,navigation:{prevEl:".swiper-prev",nextEl:".swiper-next",disabledClass:"disabled-button"}})}document.addEventListener("DOMContentLoaded",C);new I(".faq-list",{duration:400,showOne:!0,showMultiple:!0,onToggle:function(o){const e=o.closest(".faq-item");if(e){e.classList.toggle("is-active");const s=e.querySelector(".ac-panel");s&&(e.classList.contains("is-active")?s.style.maxHeight=s.scrollHeight+"px":s.style.maxHeight=null)}}});const q=document.querySelector(".covers-section"),O={root:null,rootMargin:"500px",threshold:.5},M=o=>{o.forEach(e=>{e.isIntersecting?B():P()})};function P(){document.querySelectorAll(".covers-slide").forEach(e=>e.classList.remove("animation"))}function B(){document.querySelectorAll(".covers-slide").forEach(e=>e.classList.add("animation"))}const k=new IntersectionObserver(M,O);k.observe(q);const N="https://portfolio-js.b.goit.study";function A(){const e=`${N}/api/reviews`;return x.get(e).then(s=>s.data).catch(D)}function D(o){throw h.error({title:"Error!",message:"Sorry, something went wrong. Please try again.",position:"topRight"}),o}const T=document.querySelector(".error-message"),F=document.querySelector(".reviews-list"),j=document.querySelector(".swiper-container");function V(o){h.error({title:"Error",message:o,position:"topRight"})}function $(o){if(o.length===0)u();else{const e=o.map(s=>`<li class="reviews-item swiper-slide">
          <img src="${s.avatar_url}" alt="" width="48" height="48"  class="reviews-avatar"/>
          <div class="reviews-info">
            <h3 class="reviews-name">${s.author}</h3>
            <p class="reviews-text">${s.review}</p>
           </div>
         </li>`).join("");F.innerHTML=e,R()}}function u(){j.style.display="none",T.style.display="block",V("Problem with the server connection, reviews can not be rendered")}function H(){A().then(o=>{o&&o.length>0?$(o):u()}).catch(o=>{console.error(o),u()})}function R(){document.querySelector(".prev-reviews-btn"),document.querySelector(".next-reviews-btn"),new y(".swiper-container",{modules:[v,w,g],slidesPerView:1,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{enabled:!0},speed:800,spaceBetween:16,allowTouchMove:!0,loop:!1,watchOverflow:!0,slideToClickedSlide:!0,navigation:{nextEl:".next-reviews-btn",prevEl:".prev-reviews-btn"}})}document.addEventListener("DOMContentLoaded",H);document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("contactForm"),e=document.getElementById("email"),s=document.getElementById("emailSuccessMessage"),n=e.closest(".input-form"),t=document.getElementById("comments"),r=document.querySelector(".window-btn"),i=document.querySelector(".backdrop"),m="is-open",b=document.querySelector("body");e.addEventListener("input",()=>{e.value!==""?(e.style.color="#fafafa",e.style.borderBottomColor="#fafafa"):(e.style.color="",e.style.borderBottomColor="")}),t.addEventListener("input",()=>{t.value.length>50&&(t.value=t.value.substring(0,50)+"..."),t.value!==""?(t.style.color="#fafafa",t.style.borderBottomColor="#fafafa"):(t.style.color="",t.style.borderBottomColor="")}),o.addEventListener("submit",async a=>{a.preventDefault();const p=new FormData(o),S=p.get("email");let l=p.get("comments");l.length>50&&(l=l.substring(0,50)+"...");const E={email:S,comment:l};try{const d=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!d.ok){const f=await d.json();throw console.error("Server error:",f),new Error(f||"Invalid email, try again")}s.textContent="Success!",s.className="message",s.style.display="block",n.classList.add("success"),n.classList.remove("error"),L(),o.reset()}catch{s.textContent="Invalid email, try again",s.className="message error",s.style.display="block",n.classList.add("error"),n.classList.remove("success")}});function L(){i.classList.add(m),b.style.overflow="hidden"}r.addEventListener("click",()=>{c()}),i.addEventListener("click",a=>{a.target===i&&c()}),document.addEventListener("keydown",a=>{a.key==="Escape"&&c()});function c(){i.classList.remove(m),document.body.style.overflow="auto",s.textContent="",n.classList.remove("success"),n.classList.remove("error"),e.style.color="",e.style.borderBottomColor=""}});
//# sourceMappingURL=index.js.map
