import{S as w,N as b,K as g,M as h,A as C,a as M,i as L}from"./assets/vendor-FC1IEnE2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const I=document.querySelector(".menu-button"),a=document.querySelector(".mobile-menu-wrapper"),x=document.querySelector(".mobile-menu-close-btn"),O=document.querySelectorAll(".mobile-menu-link"),B=document.querySelector(".mobile-order-button"),m=document.querySelector(".tablet-and-desktop-menu-navigation-wrapper"),P=document.querySelector(".menu-link");I.addEventListener("click",()=>{a.classList.add("is-open"),document.body.style.overflow="hidden"});x.addEventListener("click",()=>{a.classList.remove("is-open"),document.body.style.overflow="auto"});O.forEach(e=>{e.addEventListener("click",()=>{a.classList.remove("is-open"),document.body.style.overflow="auto"})});B.addEventListener("click",()=>{a.classList.remove("is-open"),document.body.style.overflow="auto"});P.addEventListener("click",e=>{e.preventDefault(),getComputedStyle(m).display==="none"?m.style.display="block":m.style.display="none"});function A(){new w(".swiper",{modules:[b,g,h],keyboard:{enabled:!0},mousewheel:{enabled:!0},loop:!1,slidesPerView:1,speed:1e3,navigation:{prevEl:".swiper-prev",nextEl:".swiper-next",disabledClass:"disabled-button"}})}document.addEventListener("DOMContentLoaded",A);new C(".faq-list",{duration:400,showOne:!0,showMultiple:!0,onToggle:function(e){const t=e.closest(".faq-item");if(t){t.classList.toggle("is-active");const s=t.querySelector(".ac-panel");s&&(t.classList.contains("is-active")?s.style.maxHeight=s.scrollHeight+"px":s.style.maxHeight=null)}}});const D=document.querySelector(".covers-section"),N={root:null,rootMargin:"500px",threshold:.5},T=e=>{e.forEach(t=>{t.isIntersecting?j():F()})};function F(){document.querySelectorAll(".covers-slide").forEach(t=>t.classList.remove("animation"))}function j(){document.querySelectorAll(".covers-slide").forEach(t=>t.classList.add("animation"))}const V=new IntersectionObserver(T,N);V.observe(D);const $="https://portfolio-js.b.goit.study";function H(){const t=`${$}/api/reviews`;return M.get(t).then(s=>s.data).catch(R)}function R(e){throw L.error({title:"Error!",message:"Sorry, something went wrong. Please try again.",position:"topRight"}),e}const _=document.querySelector(".error-message"),K=document.querySelector(".reviews-list"),z=document.querySelector(".swiper-container");function W(e){L.error({title:"Error",message:e,position:"topRight"})}function G(e){if(e.length===0)p();else{const t=e.map(s=>`<li class="reviews-item swiper-slide">
          <img src="${s.avatar_url}" alt="" width="48" height="48"  class="reviews-avatar"/>
          <div class="reviews-info">
            <h3 class="reviews-name">${s.author}</h3>
            <p class="reviews-text">${s.review}</p>
           </div>
         </li>`).join("");K.innerHTML=t,U()}}function p(){z.style.display="none",_.style.display="block",W("Problem with the server connection, reviews can not be rendered")}function J(){H().then(e=>{e&&e.length>0?G(e):p()}).catch(e=>{console.error(e),p()})}function U(){document.querySelector(".prev-reviews-btn"),document.querySelector(".next-reviews-btn"),new w(".swiper-container",{modules:[b,g,h],slidesPerView:1,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{enabled:!0},speed:800,spaceBetween:16,allowTouchMove:!0,loop:!1,watchOverflow:!0,slideToClickedSlide:!0,navigation:{nextEl:".next-reviews-btn",prevEl:".prev-reviews-btn"}})}document.addEventListener("DOMContentLoaded",J);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contactForm"),t=document.getElementById("email"),s=document.getElementById("emailSuccessMessage"),r=t.closest(".input-form"),o=document.getElementById("comments"),n=document.querySelector(".window-btn"),i=document.querySelector(".backdrop"),f="is-open",S=document.querySelector("body");t.addEventListener("input",()=>{t.value!==""?(t.style.color="#fafafa",t.style.borderBottomColor="#fafafa"):(t.style.color="",t.style.borderBottomColor="")}),o.addEventListener("input",()=>{o.value.length>50&&(o.value=o.value.substring(0,50)+"..."),o.value!==""?(o.style.color="#fafafa",o.style.borderBottomColor="#fafafa"):(o.style.color="",o.style.borderBottomColor="")}),e.addEventListener("submit",async l=>{l.preventDefault();const y=new FormData(e),q=y.get("email");let c=y.get("comments");c.length>50&&(c=c.substring(0,50)+"...");const k={email:q,comment:c};try{const u=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!u.ok){const v=await u.json();throw console.error("Server error:",v),new Error(v||"Invalid email, try again")}s.textContent="Success!",s.className="message",s.style.display="block",r.classList.add("success"),r.classList.remove("error"),E(),e.reset()}catch{s.textContent="Invalid email, try again",s.className="message error",s.style.display="block",r.classList.add("error"),r.classList.remove("success")}});function E(){i.classList.add(f),S.style.overflow="hidden"}n.addEventListener("click",()=>{d()}),i.addEventListener("click",l=>{l.target===i&&d()}),document.addEventListener("keydown",l=>{l.key==="Escape"&&d()});function d(){i.classList.remove(f),document.body.style.overflow="auto",s.textContent="",r.classList.remove("success"),r.classList.remove("error"),t.style.color="",t.style.borderBottomColor=""}});
//# sourceMappingURL=index.js.map
